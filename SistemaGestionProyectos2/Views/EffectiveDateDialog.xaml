<Window x:Class="SistemaGestionProyectos2.Views.EffectiveDateDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Aplicar Cambio" 
        Height="320" 
        Width="450"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize"
        Background="Transparent"
        AllowsTransparency="True">

    <Border Background="White" CornerRadius="12" BorderThickness="1" 
            BorderBrush="#E2E8F0">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" Direction="270" ShadowDepth="5" 
                            Opacity="0.1" Color="Black"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="#5B3FF9" 
                    CornerRadius="12,12,0,0" Padding="20,15">
                <Grid>
                    <TextBlock Text="💰 APLICAR CAMBIO DE GASTO" 
                             FontSize="16" FontWeight="Bold" 
                             Foreground="White"/>
                    <Button Name="CloseButton" Click="CloseButton_Click"
                            HorizontalAlignment="Right"
                            Background="Transparent" BorderThickness="0"
                            Foreground="White" FontSize="18"
                            Cursor="Hand" Content="✕"/>
                </Grid>
            </Border>

            <!-- Content -->
            <StackPanel Grid.Row="1" Margin="25,20">
                <!-- Resumen del cambio -->
                <Border Background="#F7FAFC" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Name="ItemDescriptionText" 
                                 FontWeight="SemiBold" FontSize="14" 
                                 Foreground="#2D3748" Margin="0,0,0,5"/>

                        <Grid Margin="0,5,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Monto actual:" 
                                     FontSize="13" Foreground="#718096" Margin="0,0,10,3"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Name="CurrentAmountText" 
                                     FontSize="13" FontWeight="SemiBold" Foreground="#2D3748"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Nuevo monto:" 
                                     FontSize="13" Foreground="#718096" Margin="0,0,10,0"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Name="NewAmountText" 
                                     FontSize="13" FontWeight="SemiBold" Foreground="#2D3748"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Opciones de fecha -->
                <TextBlock Text="¿Cuándo aplicar este cambio?" 
                         FontSize="14" FontWeight="SemiBold" 
                         Foreground="#2D3748" Margin="0,0,0,10"/>

                <RadioButton Name="CurrentMonthRadio" 
                            GroupName="EffectiveDate"
                            IsChecked="True"
                            Margin="0,0,0,8">
                    <TextBlock Name="CurrentMonthText" 
                             Text="Este mes (Septiembre 2025)"
                             FontSize="14"/>
                </RadioButton>

                <RadioButton Name="NextMonthRadio" 
                            GroupName="EffectiveDate">
                    <TextBlock Name="NextMonthText" 
                             Text="Próximo mes (Octubre 2025)"
                             FontSize="14"/>
                </RadioButton>

                <!-- Nota de impacto -->
                <Border Background="#FFF7ED" CornerRadius="6" 
                       Padding="10" Margin="0,15,0,0">
                    <TextBlock Name="ImpactText" FontSize="12"
                             Foreground="#92400E" TextWrapping="Wrap"/>
                </Border>
            </StackPanel>

            <!-- Footer -->
            <Border Grid.Row="2" Background="#F7FAFC" 
                    Padding="20,15" CornerRadius="0,0,12,12">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Name="CancelButton" Click="CancelButton_Click"
                            Content="Cancelar" 
                            Background="White"
                            Foreground="#2D3748"
                            BorderBrush="#E2E8F0"
                            BorderThickness="1"
                            Padding="20,8" Margin="0,0,10,0"
                            FontWeight="SemiBold" FontSize="13"
                            Cursor="Hand"/>

                    <Button Name="ApplyButton" Click="ApplyButton_Click"
                            Content="Aplicar Cambio" 
                            Background="#5B3FF9"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="20,8"
                            FontWeight="Bold" FontSize="13"
                            Cursor="Hand"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>