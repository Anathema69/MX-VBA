<Window x:Class="SistemaGestionProyectos2.Views.VendorEditDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Vendedor" 
        Height="450" 
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#FF9800" Height="50">
            <TextBlock Name="HeaderText" Text="NUEVO VENDEDOR" 
                      Foreground="White" FontSize="18" 
                      FontWeight="Bold"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Center"/>
        </Border>

        <!-- Formulario -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="30,20">

                <!-- Sección: Información del Vendedor -->
                <TextBlock Text="INFORMACIÓN DEL VENDEDOR" 
                          FontWeight="Bold" 
                          Foreground="#37474F"
                          Margin="0,0,0,10"/>
                <Border BorderBrush="#E0E0E0" BorderThickness="1" 
                       CornerRadius="3" Padding="15" Margin="0,0,0,20">
                    <StackPanel>
                        <!-- Nombre Completo -->
                        <TextBlock Text="Nombre Completo *" Margin="0,0,0,5"/>
                        <TextBox Name="VendorNameTextBox" 
                                Padding="8,5"
                                Margin="0,0,0,15"/>

                        <!-- Email -->
                        <TextBlock Text="Email *" Margin="0,0,0,5"/>
                        <TextBox Name="EmailTextBox" 
                                Padding="8,5"
                                Margin="0,0,0,15"/>

                        <!-- Teléfono -->
                        <TextBlock Text="Teléfono" Margin="0,0,0,5"/>
                        <TextBox Name="PhoneTextBox" 
                                Padding="8,5"
                                MaxLength="20"/>
                    </StackPanel>
                </Border>

                <!-- Sección: Credenciales de Acceso -->
                <TextBlock Text="CREDENCIALES DE ACCESO" 
                          FontWeight="Bold" 
                          Foreground="#37474F"
                          Margin="0,0,0,10"/>
                <Border Name="CredentialsSection"
                       BorderBrush="#E0E0E0" BorderThickness="1" 
                       CornerRadius="3" Padding="15" Margin="0,0,0,20">
                    <StackPanel>
                        <!-- Usuario -->
                        <TextBlock Text="Nombre de Usuario *" Margin="0,0,0,5"/>
                        <TextBox Name="UsernameTextBox" 
                                Padding="8,5"
                                Margin="0,0,0,15"
                                LostFocus="UsernameTextBox_LostFocus"/>

                        <!-- Contraseña -->
                        <TextBlock Name="PasswordLabel" Text="Contraseña *" Margin="0,0,0,5"/>
                        <!-- Reemplazar el Grid de la contraseña con esto -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <PasswordBox Name="PasswordBox" 
                Grid.Column="0"
                Padding="8,5"
                PasswordChanged="PasswordBox_PasswordChanged"/>

                            <TextBox Name="PasswordTextBox"
            Grid.Column="0"
            Padding="8,5"
            Visibility="Collapsed"
            TextChanged="PasswordTextBox_TextChanged"/>

                            <Button Grid.Column="1" 
           Name="TogglePasswordButton"
           Content="👁️"
           Width="30"
           Margin="5,0,0,0"
           Click="TogglePassword_Click"
           ToolTip="Mostrar/Ocultar contraseña"/>
                        </Grid>

                        <!-- Confirmar Contraseña (solo para nuevo) -->
                        <StackPanel Name="ConfirmPasswordPanel" Visibility="Visible">
                            <TextBlock Text="Confirmar Contraseña *" Margin="0,0,0,5"/>
                            <PasswordBox Name="ConfirmPasswordBox" 
                                        Padding="8,5"
                                        Margin="0,0,0,10"/>
                        </StackPanel>

                        <!-- Nota para edición -->
                        <TextBlock Name="PasswordNote" 
                                  Text="Deje en blanco para mantener la contraseña actual"
                                  Foreground="Gray"
                                  FontStyle="Italic"
                                  Visibility="Collapsed"
                                  Margin="0,0,0,10"/>

                        <!-- Checkbox Estado Activo -->
                        <CheckBox Name="IsActiveCheckBox" 
                                 Content="Usuario Activo"
                                 IsChecked="True"
                                 FontWeight="Bold"/>
                    </StackPanel>
                </Border>

                <!-- Información adicional para edición -->
                <Border Name="InfoSection" 
                       Background="#E3F2FD"
                       BorderBrush="#1976D2" BorderThickness="1" 
                       CornerRadius="3" Padding="10" 
                       Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock Name="VendorIdText" FontWeight="Bold"/>
                        <TextBlock Name="CreatedAtText" Foreground="#666"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Botones -->
        <Border Grid.Row="2" Background="#F5F5F5" Padding="15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Name="ValidationText" 
                          Grid.Column="0"
                          Foreground="Red"
                          VerticalAlignment="Center"/>

                <Button Grid.Column="1" Name="SaveButton" 
                       Content="💾 GUARDAR" 
                       Background="#4CAF50" Foreground="White"
                       Padding="15,8" Margin="0,0,10,0"
                       FontWeight="Bold"
                       Click="SaveButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                   CornerRadius="3">
                                <ContentPresenter HorizontalAlignment="Center" 
                                                VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button Grid.Column="2" Name="CancelButton" 
                       Content="CANCELAR" 
                       Background="#757575" Foreground="White"
                       Padding="15,8"
                       FontWeight="Bold"
                       Click="CancelButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                   CornerRadius="3">
                                <ContentPresenter HorizontalAlignment="Center" 
                                                VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Window>